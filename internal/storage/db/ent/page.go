// Code generated by ent, DO NOT EDIT.

package ent

import (
	"fmt"
	"strings"
	"time"

	"entgo.io/ent/dialect/sql"
	"github.com/drakejin/crawler/internal/storage/db/ent/page"
	"github.com/google/uuid"
)

// Page is the model entity for the Page schema.
type Page struct {
	config `json:"-"`
	// ID of the ent.
	ID uuid.UUID `json:"id,omitempty"`
	// version about crawling
	CrawlingVersion string `json:"crawling_version,omitempty"`
	// domain www.example.com
	Domain string `json:"domain,omitempty"`
	// port number
	Port string `json:"port,omitempty"`
	// is used tls/ssl layer flag
	IsHTTPS bool `json:"is_https,omitempty"`
	// url for only indexing
	URL string `json:"url,omitempty"`
	// url.path
	Path string `json:"path,omitempty"`
	// url.querystring
	Querystring string `json:"querystring,omitempty"`
	// how many times referred
	CountReferred int64 `json:"count_referred,omitempty"`
	// 해당 row는 쓸 수 있는지? 없는지?
	Status page.Status `json:"status,omitempty"`
	// first indexed time
	CreatedAt time.Time `json:"created_at,omitempty"`
	// first indexed time by which system
	CreatedBy string `json:"created_by,omitempty"`
	// modified time
	UpdatedAt time.Time `json:"updated_at,omitempty"`
	// modified by which system
	UpdatedBy string `json:"updated_by,omitempty"`
	// html title tag
	Title string `json:"title,omitempty"`
	// basic meta tags 'description'
	Description string `json:"description,omitempty"`
	// basic meta tags 'keywords'
	Keywords string `json:"keywords,omitempty"`
	// basic meta tags 'content-language'
	ContentLanguage string `json:"content_language,omitempty"`
	// twitter meta tags 'card'
	TwitterCard string `json:"twitter_card,omitempty"`
	// twitter meta tags 'url'
	TwitterURL string `json:"twitter_url,omitempty"`
	// twitter meta tags 'title'
	TwitterTitle string `json:"twitter_title,omitempty"`
	// twitter meta tags 'description'
	TwitterDescription string `json:"twitter_description,omitempty"`
	// twitter meta tags 'image'
	TwitterImage string `json:"twitter_image,omitempty"`
	// og meta tags 'site_name'
	OgSiteName string `json:"og_site_name,omitempty"`
	// og meta tags 'locale'
	OgLocale string `json:"og_locale,omitempty"`
	// og meta tags 'title'
	OgTitle string `json:"og_title,omitempty"`
	// og meta tags 'description'
	OgDescription string `json:"og_description,omitempty"`
	// og meta tags 'type'
	OgType string `json:"og_type,omitempty"`
	// og meta tags 'url'
	OgURL string `json:"og_url,omitempty"`
	// og meta tags 'image'
	OgImage string `json:"og_image,omitempty"`
	// og meta tags 'image:type'
	OgImageType string `json:"og_image_type,omitempty"`
	// og meta tags 'image:url'
	OgImageURL string `json:"og_image_url,omitempty"`
	// og meta tags 'image:secure_url'
	OgImageSecureURL string `json:"og_image_secure_url,omitempty"`
	// og meta tags 'image:width'
	OgImageWidth string `json:"og_image_width,omitempty"`
	// og meta tags 'image:height'
	OgImageHeight string `json:"og_image_height,omitempty"`
	// og meta tags 'video'
	OgVideo string `json:"og_video,omitempty"`
	// og meta tags 'video:type'
	OgVideoType string `json:"og_video_type,omitempty"`
	// og meta tags 'video:url'
	OgVideoURL string `json:"og_video_url,omitempty"`
	// og meta tags 'video:secure_url'
	OgVideoSecureURL string `json:"og_video_secure_url,omitempty"`
	// og meta tags 'video:width'
	OgVideoWidth string `json:"og_video_width,omitempty"`
	// og meta tags 'video:height'
	OgVideoHeight string `json:"og_video_height,omitempty"`
	// Edges holds the relations/edges for other nodes in the graph.
	// The values are being populated by the PageQuery when eager-loading is set.
	Edges PageEdges `json:"edges"`
}

// PageEdges holds the relations/edges for other nodes in the graph.
type PageEdges struct {
	// PageSource holds the value of the page_source edge.
	PageSource []*PageSource `json:"page_source,omitempty"`
	// loadedTypes holds the information for reporting if a
	// type was loaded (or requested) in eager-loading or not.
	loadedTypes [1]bool
}

// PageSourceOrErr returns the PageSource value or an error if the edge
// was not loaded in eager-loading.
func (e PageEdges) PageSourceOrErr() ([]*PageSource, error) {
	if e.loadedTypes[0] {
		return e.PageSource, nil
	}
	return nil, &NotLoadedError{edge: "page_source"}
}

// scanValues returns the types for scanning values from sql.Rows.
func (*Page) scanValues(columns []string) ([]any, error) {
	values := make([]any, len(columns))
	for i := range columns {
		switch columns[i] {
		case page.FieldIsHTTPS:
			values[i] = new(sql.NullBool)
		case page.FieldCountReferred:
			values[i] = new(sql.NullInt64)
		case page.FieldCrawlingVersion, page.FieldDomain, page.FieldPort, page.FieldURL, page.FieldPath, page.FieldQuerystring, page.FieldStatus, page.FieldCreatedBy, page.FieldUpdatedBy, page.FieldTitle, page.FieldDescription, page.FieldKeywords, page.FieldContentLanguage, page.FieldTwitterCard, page.FieldTwitterURL, page.FieldTwitterTitle, page.FieldTwitterDescription, page.FieldTwitterImage, page.FieldOgSiteName, page.FieldOgLocale, page.FieldOgTitle, page.FieldOgDescription, page.FieldOgType, page.FieldOgURL, page.FieldOgImage, page.FieldOgImageType, page.FieldOgImageURL, page.FieldOgImageSecureURL, page.FieldOgImageWidth, page.FieldOgImageHeight, page.FieldOgVideo, page.FieldOgVideoType, page.FieldOgVideoURL, page.FieldOgVideoSecureURL, page.FieldOgVideoWidth, page.FieldOgVideoHeight:
			values[i] = new(sql.NullString)
		case page.FieldCreatedAt, page.FieldUpdatedAt:
			values[i] = new(sql.NullTime)
		case page.FieldID:
			values[i] = new(uuid.UUID)
		default:
			return nil, fmt.Errorf("unexpected column %q for type Page", columns[i])
		}
	}
	return values, nil
}

// assignValues assigns the values that were returned from sql.Rows (after scanning)
// to the Page fields.
func (pa *Page) assignValues(columns []string, values []any) error {
	if m, n := len(values), len(columns); m < n {
		return fmt.Errorf("mismatch number of scan values: %d != %d", m, n)
	}
	for i := range columns {
		switch columns[i] {
		case page.FieldID:
			if value, ok := values[i].(*uuid.UUID); !ok {
				return fmt.Errorf("unexpected type %T for field id", values[i])
			} else if value != nil {
				pa.ID = *value
			}
		case page.FieldCrawlingVersion:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field crawling_version", values[i])
			} else if value.Valid {
				pa.CrawlingVersion = value.String
			}
		case page.FieldDomain:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field domain", values[i])
			} else if value.Valid {
				pa.Domain = value.String
			}
		case page.FieldPort:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field port", values[i])
			} else if value.Valid {
				pa.Port = value.String
			}
		case page.FieldIsHTTPS:
			if value, ok := values[i].(*sql.NullBool); !ok {
				return fmt.Errorf("unexpected type %T for field is_https", values[i])
			} else if value.Valid {
				pa.IsHTTPS = value.Bool
			}
		case page.FieldURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field url", values[i])
			} else if value.Valid {
				pa.URL = value.String
			}
		case page.FieldPath:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field path", values[i])
			} else if value.Valid {
				pa.Path = value.String
			}
		case page.FieldQuerystring:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field querystring", values[i])
			} else if value.Valid {
				pa.Querystring = value.String
			}
		case page.FieldCountReferred:
			if value, ok := values[i].(*sql.NullInt64); !ok {
				return fmt.Errorf("unexpected type %T for field count_referred", values[i])
			} else if value.Valid {
				pa.CountReferred = value.Int64
			}
		case page.FieldStatus:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field status", values[i])
			} else if value.Valid {
				pa.Status = page.Status(value.String)
			}
		case page.FieldCreatedAt:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field created_at", values[i])
			} else if value.Valid {
				pa.CreatedAt = value.Time
			}
		case page.FieldCreatedBy:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field created_by", values[i])
			} else if value.Valid {
				pa.CreatedBy = value.String
			}
		case page.FieldUpdatedAt:
			if value, ok := values[i].(*sql.NullTime); !ok {
				return fmt.Errorf("unexpected type %T for field updated_at", values[i])
			} else if value.Valid {
				pa.UpdatedAt = value.Time
			}
		case page.FieldUpdatedBy:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field updated_by", values[i])
			} else if value.Valid {
				pa.UpdatedBy = value.String
			}
		case page.FieldTitle:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field title", values[i])
			} else if value.Valid {
				pa.Title = value.String
			}
		case page.FieldDescription:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field description", values[i])
			} else if value.Valid {
				pa.Description = value.String
			}
		case page.FieldKeywords:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field keywords", values[i])
			} else if value.Valid {
				pa.Keywords = value.String
			}
		case page.FieldContentLanguage:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field content_language", values[i])
			} else if value.Valid {
				pa.ContentLanguage = value.String
			}
		case page.FieldTwitterCard:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field twitter_card", values[i])
			} else if value.Valid {
				pa.TwitterCard = value.String
			}
		case page.FieldTwitterURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field twitter_url", values[i])
			} else if value.Valid {
				pa.TwitterURL = value.String
			}
		case page.FieldTwitterTitle:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field twitter_title", values[i])
			} else if value.Valid {
				pa.TwitterTitle = value.String
			}
		case page.FieldTwitterDescription:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field twitter_description", values[i])
			} else if value.Valid {
				pa.TwitterDescription = value.String
			}
		case page.FieldTwitterImage:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field twitter_image", values[i])
			} else if value.Valid {
				pa.TwitterImage = value.String
			}
		case page.FieldOgSiteName:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_site_name", values[i])
			} else if value.Valid {
				pa.OgSiteName = value.String
			}
		case page.FieldOgLocale:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_locale", values[i])
			} else if value.Valid {
				pa.OgLocale = value.String
			}
		case page.FieldOgTitle:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_title", values[i])
			} else if value.Valid {
				pa.OgTitle = value.String
			}
		case page.FieldOgDescription:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_description", values[i])
			} else if value.Valid {
				pa.OgDescription = value.String
			}
		case page.FieldOgType:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_type", values[i])
			} else if value.Valid {
				pa.OgType = value.String
			}
		case page.FieldOgURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_url", values[i])
			} else if value.Valid {
				pa.OgURL = value.String
			}
		case page.FieldOgImage:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_image", values[i])
			} else if value.Valid {
				pa.OgImage = value.String
			}
		case page.FieldOgImageType:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_image_type", values[i])
			} else if value.Valid {
				pa.OgImageType = value.String
			}
		case page.FieldOgImageURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_image_url", values[i])
			} else if value.Valid {
				pa.OgImageURL = value.String
			}
		case page.FieldOgImageSecureURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_image_secure_url", values[i])
			} else if value.Valid {
				pa.OgImageSecureURL = value.String
			}
		case page.FieldOgImageWidth:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_image_width", values[i])
			} else if value.Valid {
				pa.OgImageWidth = value.String
			}
		case page.FieldOgImageHeight:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_image_height", values[i])
			} else if value.Valid {
				pa.OgImageHeight = value.String
			}
		case page.FieldOgVideo:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_video", values[i])
			} else if value.Valid {
				pa.OgVideo = value.String
			}
		case page.FieldOgVideoType:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_video_type", values[i])
			} else if value.Valid {
				pa.OgVideoType = value.String
			}
		case page.FieldOgVideoURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_video_url", values[i])
			} else if value.Valid {
				pa.OgVideoURL = value.String
			}
		case page.FieldOgVideoSecureURL:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_video_secure_url", values[i])
			} else if value.Valid {
				pa.OgVideoSecureURL = value.String
			}
		case page.FieldOgVideoWidth:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_video_width", values[i])
			} else if value.Valid {
				pa.OgVideoWidth = value.String
			}
		case page.FieldOgVideoHeight:
			if value, ok := values[i].(*sql.NullString); !ok {
				return fmt.Errorf("unexpected type %T for field og_video_height", values[i])
			} else if value.Valid {
				pa.OgVideoHeight = value.String
			}
		}
	}
	return nil
}

// QueryPageSource queries the "page_source" edge of the Page entity.
func (pa *Page) QueryPageSource() *PageSourceQuery {
	return (&PageClient{config: pa.config}).QueryPageSource(pa)
}

// Update returns a builder for updating this Page.
// Note that you need to call Page.Unwrap() before calling this method if this Page
// was returned from a transaction, and the transaction was committed or rolled back.
func (pa *Page) Update() *PageUpdateOne {
	return (&PageClient{config: pa.config}).UpdateOne(pa)
}

// Unwrap unwraps the Page entity that was returned from a transaction after it was closed,
// so that all future queries will be executed through the driver which created the transaction.
func (pa *Page) Unwrap() *Page {
	_tx, ok := pa.config.driver.(*txDriver)
	if !ok {
		panic("ent: Page is not a transactional entity")
	}
	pa.config.driver = _tx.drv
	return pa
}

// String implements the fmt.Stringer.
func (pa *Page) String() string {
	var builder strings.Builder
	builder.WriteString("Page(")
	builder.WriteString(fmt.Sprintf("id=%v, ", pa.ID))
	builder.WriteString("crawling_version=")
	builder.WriteString(pa.CrawlingVersion)
	builder.WriteString(", ")
	builder.WriteString("domain=")
	builder.WriteString(pa.Domain)
	builder.WriteString(", ")
	builder.WriteString("port=")
	builder.WriteString(pa.Port)
	builder.WriteString(", ")
	builder.WriteString("is_https=")
	builder.WriteString(fmt.Sprintf("%v", pa.IsHTTPS))
	builder.WriteString(", ")
	builder.WriteString("url=")
	builder.WriteString(pa.URL)
	builder.WriteString(", ")
	builder.WriteString("path=")
	builder.WriteString(pa.Path)
	builder.WriteString(", ")
	builder.WriteString("querystring=")
	builder.WriteString(pa.Querystring)
	builder.WriteString(", ")
	builder.WriteString("count_referred=")
	builder.WriteString(fmt.Sprintf("%v", pa.CountReferred))
	builder.WriteString(", ")
	builder.WriteString("status=")
	builder.WriteString(fmt.Sprintf("%v", pa.Status))
	builder.WriteString(", ")
	builder.WriteString("created_at=")
	builder.WriteString(pa.CreatedAt.Format(time.ANSIC))
	builder.WriteString(", ")
	builder.WriteString("created_by=")
	builder.WriteString(pa.CreatedBy)
	builder.WriteString(", ")
	builder.WriteString("updated_at=")
	builder.WriteString(pa.UpdatedAt.Format(time.ANSIC))
	builder.WriteString(", ")
	builder.WriteString("updated_by=")
	builder.WriteString(pa.UpdatedBy)
	builder.WriteString(", ")
	builder.WriteString("title=")
	builder.WriteString(pa.Title)
	builder.WriteString(", ")
	builder.WriteString("description=")
	builder.WriteString(pa.Description)
	builder.WriteString(", ")
	builder.WriteString("keywords=")
	builder.WriteString(pa.Keywords)
	builder.WriteString(", ")
	builder.WriteString("content_language=")
	builder.WriteString(pa.ContentLanguage)
	builder.WriteString(", ")
	builder.WriteString("twitter_card=")
	builder.WriteString(pa.TwitterCard)
	builder.WriteString(", ")
	builder.WriteString("twitter_url=")
	builder.WriteString(pa.TwitterURL)
	builder.WriteString(", ")
	builder.WriteString("twitter_title=")
	builder.WriteString(pa.TwitterTitle)
	builder.WriteString(", ")
	builder.WriteString("twitter_description=")
	builder.WriteString(pa.TwitterDescription)
	builder.WriteString(", ")
	builder.WriteString("twitter_image=")
	builder.WriteString(pa.TwitterImage)
	builder.WriteString(", ")
	builder.WriteString("og_site_name=")
	builder.WriteString(pa.OgSiteName)
	builder.WriteString(", ")
	builder.WriteString("og_locale=")
	builder.WriteString(pa.OgLocale)
	builder.WriteString(", ")
	builder.WriteString("og_title=")
	builder.WriteString(pa.OgTitle)
	builder.WriteString(", ")
	builder.WriteString("og_description=")
	builder.WriteString(pa.OgDescription)
	builder.WriteString(", ")
	builder.WriteString("og_type=")
	builder.WriteString(pa.OgType)
	builder.WriteString(", ")
	builder.WriteString("og_url=")
	builder.WriteString(pa.OgURL)
	builder.WriteString(", ")
	builder.WriteString("og_image=")
	builder.WriteString(pa.OgImage)
	builder.WriteString(", ")
	builder.WriteString("og_image_type=")
	builder.WriteString(pa.OgImageType)
	builder.WriteString(", ")
	builder.WriteString("og_image_url=")
	builder.WriteString(pa.OgImageURL)
	builder.WriteString(", ")
	builder.WriteString("og_image_secure_url=")
	builder.WriteString(pa.OgImageSecureURL)
	builder.WriteString(", ")
	builder.WriteString("og_image_width=")
	builder.WriteString(pa.OgImageWidth)
	builder.WriteString(", ")
	builder.WriteString("og_image_height=")
	builder.WriteString(pa.OgImageHeight)
	builder.WriteString(", ")
	builder.WriteString("og_video=")
	builder.WriteString(pa.OgVideo)
	builder.WriteString(", ")
	builder.WriteString("og_video_type=")
	builder.WriteString(pa.OgVideoType)
	builder.WriteString(", ")
	builder.WriteString("og_video_url=")
	builder.WriteString(pa.OgVideoURL)
	builder.WriteString(", ")
	builder.WriteString("og_video_secure_url=")
	builder.WriteString(pa.OgVideoSecureURL)
	builder.WriteString(", ")
	builder.WriteString("og_video_width=")
	builder.WriteString(pa.OgVideoWidth)
	builder.WriteString(", ")
	builder.WriteString("og_video_height=")
	builder.WriteString(pa.OgVideoHeight)
	builder.WriteByte(')')
	return builder.String()
}

// Pages is a parsable slice of Page.
type Pages []*Page

func (pa Pages) config(cfg config) {
	for _i := range pa {
		pa[_i].config = cfg
	}
}
